<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>Aflevering 3 8 Balls</title>
    <link href="aflevering3.css" type="text/css" rel="stylesheet" />
    </head>
    <body>

      <div class="dropdown">
        <button onclick="toggleDropdown()" class="dropbtn">Genres</button>
        <div id="myDropdown" class="dropdown-content">
            <a href="#all" onclick="myFunction('All')">All</a>
            <a href="#rock" onclick="myFunction('Rock')">Rock</a>
            <a href="#funk" onclick="myFunction('Funk')">Funk</a>
            <a href="#pop" onclick="myFunction('Pop')">Pop</a>
        </div>
    </div>
    
    <button onclick="toggleTracklist()" class="dropbtn">Vis/Skjul Trackliste</button>

    <ul id="album-liste"></ul>
    
    
    <script>

 function toggleDropdown() {
    document.getElementById("myDropdown").classList.toggle("show");
}

function toggleTracklist() {
            const tracklists = document.querySelectorAll('.tracklist');

            tracklists.forEach(tracklist => {
                tracklist.classList.toggle('hidden');
            });
        }

function myFunction(genre) {
    toggleDropdown();
    fetch('albums.json')
        .then(response => response.json())
        .then(music => {
            const albumListe = document.getElementById('album-liste');
            albumListe.innerHTML = ''; 
    
    music.forEach(album => {
      if (genre === 'All' || album.genre === genre) {
      const listItem = document.createElement('li');
      listItem.innerHTML = `
        <strong>Albumname:</strong> ${album.albumName} <br>
        <strong>ArtistName:</strong> ${album.artistName} <br>
        <a href="${album.artistWebsite}" target="_blank">Artist website</a> <br>
        <strong>Productionyear:</strong> ${album.productionYear} <br>
        <strong>Genre:</strong> ${album.genre} <br>
        <strong>Tracknumber, Tracktitle and Tracktime:</strong> <br>
          <ul>
          ${album.trackList.map(track => `<li>${track.trackNumber}. ${track.trackTitle} - ${track.trackTimeInSeconds} Seconds</li>`).join('')}
          </ul> `;
                   
          albumListe.appendChild(listItem);
               
        }
     });
  });
}

window.onload = function() {
    myFunction('All');
};

    </script>
    
    </body>
    
    </html>
    